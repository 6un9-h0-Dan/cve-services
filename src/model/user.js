import { mongoose } from "mongoose"

var UserSchema = new mongoose.Schema({
    id: String,
    username: String,
    cna: String, //cna_id
    secret: String,
    name: {
        first: String,
        last: String,
        middle: String,
        surname: String,
        suffix: String,
    }
});

UserSchema.query.byUserName = function(name) {
    return this.where({ username: new RegExp(name, 'i') });
};

var User = mongoose.model('User', UserSchema);