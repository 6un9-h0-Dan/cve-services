import { CNAController } from './controller/CNAController';
import { Admin } from './controller/AdminController';
import { DebugController } from './controller/DebugController';
import { mapValues } from 'lodash';
let admin = new Admin();
let debug = new DebugController();
let CNA = new CNAController();
export const ROUTES = {
    '/register-cna': {
        post: admin.registerCNA,
    },
    '/deactivate-cna': {
        post: admin.deactivateCNA,
    },
    '/update-cna': {
        post: admin.updateCNA,
    },
    '/get-cve-id': {
        post: CNA.getCveId,
    },
    '/get-cvs-info': {
        post: CNA.getCveInfo,
    },
    '/set-cve-status': {
        post: CNA.setCveIdStatus,
    },
    '/health-check': {
        get: debug.health,
    },
    '/sign': {
        post: debug.sign,
    },
    '/get-all-cna': {
        get: debug.getAllCNA,
    },
};

export function configureRoutes(app) {
    mapValues(ROUTES, (methods, route) => mapValues(methods, (handler, method) => app[method](route, handler)));
}
