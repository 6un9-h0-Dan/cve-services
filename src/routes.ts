import { CveIdAllocationController } from './controller/CveIdAllocationService';
import { CNA } from './controller/CNAController';
import { DebugController } from './controller/DebugController';
import { mapValues } from 'lodash';
let cna = new CNA();
let debug = new DebugController();
let cve = new CveIdAllocationController();
export const ROUTES = {
    '/register-user': {
        post: cna.registerUser,
    },
    '/deactivate-user': {
        post: cna.deactivateUser,
    },
    '/update-user': {
        post: cna.updateUser,
    },
    '/get-cve-id': {
        post: cve.getCveId,
    },
    '/get-cvs-info': {
        post: cve.getCveInfo,
    },
    '/set-cve-status': {
        post: cve.setCveIdStatus,
    },
    '/health-check': {
        get: debug.health,
    },
    '/sign': {
        post: debug.sign,
    },
    '/get-all-cna': {
        get: debug.getAllCNA,
    },
};

export function configureRoutes(app) {
    mapValues(ROUTES, (methods, route) => mapValues(methods, (handler, method) => app[method](route, handler)));
}
