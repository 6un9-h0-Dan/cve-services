const express = require('express')
const router = express.Router()
const middleware = require('../../middleware/middleware')
const controller = require('./org.controller')

router.get('/org', middleware.validateUser, controller.CNA_ALL)
router.post('/org', middleware.validateUser, controller.CNA_CREATE_SINGLE)
router.get('/org/:shortname', middleware.validateUser, controller.CNA_SINGLE)
router.post('/org/:shortname', middleware.validateUser, controller.CNA_UPDATE_SINGLE)
router.get('/org/:shortname/id_quota', middleware.validateUser, controller.ORG_ID_QUOTA)
router.get('/org/:shortname/user/:username', middleware.validateUser, controller.USER_SINGLE)
router.post('/org/:shortname/user', middleware.validateUser, controller.USER_CREATE_SINGLE)
router.post('/org/:shortname/user/:username', middleware.validateUser, controller.USER_UPDATE_SINGLE)
router.post('/org/:shortname/user/:username/reset_secret', middleware.validateUser, controller.USER_RESET_SECRET)

module.exports = router
